from pymodbus.client.sync import ModbusTcpClient


def test_modbus_read_holding_register(ip, port):
    try:
        client = ModbusTcpClient(ip, port=port)
        client.connect()
        result = client.read_holding_registers(0, 2)
        client.close()
        return result is not None
    except Exception:
        return False