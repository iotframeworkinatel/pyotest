from pymodbus.client.sync import ModbusTcpClient


def test_modbus_device_id(ip, port):
    try:
        client = ModbusTcpClient(ip, port=port)
        client.connect()
        result = client.read_device_information()
        client.close()
        return result is not None
    except Exception:
        return False