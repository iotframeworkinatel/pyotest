import paramiko


def test_ssh_no_auth_limit(ip, port, timeout=3):
    try:
        transport = paramiko.Transport((ip, port))
        transport.start_client(timeout=timeout)

        for _ in range(5):
            try:
                transport.auth_password("test", "wrong")
            except:
                pass

        transport.close()
        return True  # no disconnect â†’ no rate limit
    except Exception:
        return False
