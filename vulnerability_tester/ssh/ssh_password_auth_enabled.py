import paramiko


def test_ssh_password_auth_enabled(ip, port, timeout=3):
    try:
        transport = paramiko.Transport((ip, port))
        transport.start_client(timeout=timeout)

        methods = transport.get_security_options().auth_methods
        transport.close()

        return "password" in methods
    except Exception:
        return False
